<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projeto PDF Curriculum Vitae</title>
    <link rel="stylesheet" href="/cv.css" />
  </head>

  <body>
    <form
      class="form"
      style="max-width: none; width: 1005px"
      id="create_pdf"
      value="Generate PDF"
    >
      <main>
        <div class="left">
          <h2>Nome</h2>
          <hr />
          <p class="job">Sua função aqui</p>

          <div class="infos">
            <div class="details">
              <b>Detalhes</b>
              <p>seu telefone aqui</p>
              <p>seu email aqui</p>
              <p class="social-media">Redes sociais aqui</p>
            </div>

            <div class="skills">
              <b>Skills</b>
              <div class="skill">
                <p>Inserir habilidade excelente aqui</p>
                <img src="/star.png" alt="" class="star" />
                <div class="bar full"></div>
                <!-- a imagem star e a div com class="bar full" são utilizadas para habilidades que se destacam -->
              </div>

              <div class="skill">
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <p>Inserir skill aqui</p>
                <!-- preenchimento de barra (75%) -->
                <!-- 
                    utilize class="bar three-quarters" para utilizar barra com 75% de preenchimento
                    utilize class="bar half" para utilizar barra com 50% de preenchimento
                    utilize class="bar quarter" para utilizar barra com 25% de preenchimento
                 -->
              </div>
            </div>

            <div class="hobbies">
              <b>Hobbies</b>
              <p>Inserir hobbies aqui</p>
              <p>Inserir hobbies aqui</p>
              <p>Inserir hobbies aqui</p>
            </div>

            <div class="languages">
              <b>Línguas faladas</b>
              <div class="language skill">
                <p>Língua nativa</p>
                <img src="/star.png" alt="" class="star" />
                <div class="bar full"></div>
              </div>
              <div class="language skill">
                <p>Outra língua</p>
                <div class="bar three-quarters"></div>
              </div>
              <!-- 
                aqui deverá ser aplicada a mesma regra de css para a sessão "skills". Usar as classes de preenchimento de acordo com sua escolha.
               -->
            </div>
          </div>
        </div>

        <div class="right">
          <div class="profile">
            <h2>Perfil</h2>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit. Possimus
              nemo sint distinctio sed pariatur consectetur esse omnis ea, hic
              maxime!
            </p>
            <strong>Este CV foi desenvolvido utilizando programação.</strong>
          </div>
          <div class="history">
            <h2>Histórico Profissional</h2>
            <div class="section">
              <b>Empresa - Lugar (ano)</b>
              <p>Principal descrição</p>
              <ul>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
              </ul>
            </div>
            <div class="section">
              <b>Empresa - Lugar (ano)</b>
              <p>Principal descrição</p>
              <ul>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
              </ul>
            </div>
            <div class="section">
              <b>Empresa - Lugar (ano)</b>
              <p>Principal descrição</p>
              <ul>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
              </ul>
            </div>
            <div class="section">
              <b>Empresa - Lugar (ano)</b>
              <p>Principal descrição</p>
              <ul>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
                <li>Descrição de uma das atividades</li>
              </ul>
            </div>
          </div>
        </div>
      </main>
    </form>

    <script
      src="https://code.jquery.com/jquery-1.12.4.min.js"
      integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js"></script>

    <script>
      (function () {
        var form = $(".form"),
          cache_width = form.width(),
          a4 = [635.28, 801.89]; // for a4 size paper width and height

        $("#create_pdf").on("click", function () {
          $("body").scrollTop(0);
          createPDF();
        });
        //create pdf
        function createPDF() {
          getCanvas().then(function (canvas) {
            var img = canvas.toDataURL("image/png"),
              doc = new jsPDF({
                unit: "px",
                format: "a4",
                padding: 0,
                margin: 0,
              });
            doc.addImage(img, "JPEG", 0, 0);
            doc.save("Curriculum Vitae.pdf");
            form.width(cache_width);
          });
        }

        // create canvas object
        function getCanvas() {
          form.width(a4[0] * 1.33333 - 80).css("max-width", "none");
          return html2canvas(form, {
            imageTimeout: 2000,
            removeContainer: true,
          });
        }
      })();
    </script>

    <script>
      /*
       * jQuery helper plugin for examples and tests
       */
      (function ($) {
        $.fn.html2canvas = function (options) {
          var date = new Date(),
            $message = null,
            timeoutTimer = false,
            timer = date.getTime();
          html2canvas.logging = options && options.logging;
          html2canvas.Preload(
            this[0],
            $.extend(
              {
                complete: function (images) {
                  var queue = html2canvas.Parse(this[0], images, options),
                    $canvas = $(html2canvas.Renderer(queue, options)),
                    finishTime = new Date();

                  $canvas
                    .css({ position: "absolute", left: 0, top: 0 })
                    .appendTo(document.body);
                  $canvas.siblings().toggle();

                  $(window).click(function () {
                    if (!$canvas.is(":visible")) {
                      $canvas.toggle().siblings().toggle();
                      throwMessage("Canvas Render visible");
                    } else {
                      $canvas.siblings().toggle();
                      $canvas.toggle();
                      throwMessage("Canvas Render hidden");
                    }
                  });
                  throwMessage(
                    "Screenshot created in " +
                      (finishTime.getTime() - timer) / 1000 +
                      " seconds<br />",
                    4000
                  );
                },
              },
              options
            )
          );

          function throwMessage(msg, duration) {
            window.clearTimeout(timeoutTimer);
            timeoutTimer = window.setTimeout(function () {
              $message.fadeOut(function () {
                $message.remove();
              });
            }, duration || 2000);
            if ($message) $message.remove();
            $message = $("<div ></div>")
              .html(msg)
              .css({
                margin: 0,
                padding: 0,
                background: "#000",
                opacity: 0.7,
                position: "fixed",
                top: 0,
                right: 0,
                fontFamily: "Tahoma",
                color: "#fff",
                fontSize: 12,
                borderRadius: 12,
                width: "auto",
                height: "auto",
                textAlign: "center",
                textDecoration: "none",
              })
              .hide()
              .fadeIn()
              .appendTo("body");
          }
        };
      })(jQuery);
    </script>
  </body>
</html>
